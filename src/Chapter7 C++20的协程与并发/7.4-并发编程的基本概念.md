## 7.4 并发编程的基本概念

什么是并发编程？

并发编程指的是多个任务在同一时间段内执行，目的是提升程序的性能和响应性。并发与并行的区别在于：

并发：多个任务在同一时间段内交替执行，但不一定同时执行。

并行：多个任务同时执行。

在 C++ 中，并发编程主要依靠线程、任务和锁等机制来实现。

线程与锁

在 C++ 中，线程是实现并发的重要工具。通过 std::thread 我们可以轻松创建新线程并行执行任务。
```
#include <iostream>

#include <thread>

void threadFunction() {

std::cout << "Thread function\n";

}

int main() {

std::thread t(threadFunction);  // 创建新线程

t.join();  // 等待线程执行完成

std::cout << "Main function\n";

}
```
上述代码演示了如何创建并启动一个新线程。

C++17与C++20的并发改进

C++17引入了大量与并发相关的工具，如：

- std::shared\_mutex: 允许多个读线程并行读取，同时只有一个写线程可以独占访问。
- std::scoped\_lock: 可以同时锁定多个锁，避免死锁问题。

C++20在此基础上，引入了更高层次的并发工具以及对硬件线程的更高效利用。